{% extends "admin/change_list.html" %}

{% block extrastyle %}
    {{ block.super }}
    <!-- Optional: Add Bootstrap CSS for better styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock %}

{% block content %}
    {{ block.super }}
    <div class="app-module">
        <h2>Game Reports</h2>
        
        <h3>Daily Report (for {{ today|date:"F d, Y" }})</h3>
        <ul class="list-group">
            <li class="list-group-item"><strong>Number of Unique Users:</strong> {{ daily_users }}</li>
            <li class="list-group-item"><strong>Number of Correct Guesses:</strong> {{ daily_correct }}</li>
        </ul>

        <h3>Per User Report</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Date</th>
                    <th>Words Tried</th>
                    <th>Correct Guesses</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in user_stats %}
                    <tr>
                        <td>{{ stat.user__username }}</td>
                        <td>{{ stat.date|date:"Y-m-d" }}</td>
                        <td>{{ stat.tried }}</td>
                        <td>{{ stat.correct }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="4" class="text-center">No user statistics available.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}